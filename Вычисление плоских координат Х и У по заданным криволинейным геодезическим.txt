#include <iostream>
#include <stdio.h>
#include <math.h>
#define PI 3.1415926535
#define eksk 0.0066934223
#define eksw 0.0066945418
#define ck 6399699
#define cw 6399593
#define ak 6378245
#define aw 6378137
class Ellipsoid {
    public:
    void KrivolinKoor() {
        printf("\n\nЗАДАНИЕ НОМЕР 1. Вычисление координат Х, У проекции Гаусса – Крюгера по криволинейным B, L геодезическим координатам. Все значение были получены для двух эллипсоидов - эллипсоида Крассовского и эллипсоида WGS-84.\n\n");
        float NW=6392744.5;
        float NK=6392676;
        float B=(51.628*PI)/180;
        float L=(25.25373*PI)/180;
        float L0=(27*PI)/180;
        float AB0K=6367558.497;
        float AB2K=32072.960;
        float AB4K=67.312;
        float AB6K=0.132;
        float AB0W=6367449.147;
        float AB2W=32077.017;
        float AB4W=67.330;
        float AB6W=0.132;
        float XBk=AB0K*B-(AB2K/2)*sin(2*B)+(AB4K/4)*sin(4*B)-(AB6K/6)*sin(6*B);
        float XBw=AB0W*B-(AB2W/2)*sin(2*B)+(AB4W/4)*sin(4*B)-(AB6W/6)*sin(6*B);
        float nmalk=eksk*cos(B);
        float nmalw=eksw*cos(B);
        float nk2=nmalk*nmalk;
        float nk4=nk2*nk2;
        float nw2=nmalw*nmalw;
        float nw4=nw2*nw2;
        float lmal=L-L0;
        float l2=lmal*lmal;
        float l3=lmal*lmal*lmal;
        float l4=l2*l2;
        float l5=l2*l3;
        float l6=l3*l3;
        float cos3B=cos(B)*cos(B)*cos(B);
        float cos5B=cos3B*cos(B)*cos(B);
        float tan2B=tan(B)*tan(B);
        float tan4B=tan2B*tan2B;
        float a2k=0.5*NK*sin(B)*cos(B);
        float a4k=0.0416*NK*sin(B)*cos3B*(5-tan2B+9*nk2+4*nk4);
        float a6k=0.00138*NK*sin(B)*cos5B*(61-58*tan2B+tan4B+270*nk2-330*nk2*tan2B);
        float b1k=NK*cos(B);
        float b3k=0.166*NK*cos3B*(1-tan2B+nk2);
        float b5k=0.0083*NK*cos5B*(5-18*tan2B+tan4B+14*nk2-58*nk2*tan2B);
        float a2w=0.5*NW*sin(B)*cos(B);
        float a4w=0.0416*NW*sin(B)*cos3B*(5-tan2B+9*nw2+4*nw4);
        float a6w=0.00138*NW*sin(B)*cos5B*(61-58*tan2B+tan4B+270*nw2-330*nw2*tan2B);
        float b1w=NW*cos(B);
        float b3w=0.166*NW*cos3B*(1-tan2B+nw2);
        float b5w=0.0083*NW*cos5B*(5-18*tan2B+tan4B+14*nw2-58*nw2*tan2B);
        float xk=XBk+a2k*l2+a4k*l4+a6k*l6;
        float yk=b1k*lmal+b3k*l3+b5k*l5;
        float xw=XBw+a2w*l2+a4w*l4+a6w*l6;
        float yw=b1w*lmal+b3w*l3+b5w*l5;
        printf("\n\nЗНАЧЕНИЕ ПАРАМЕТРА Врад для эллипсоида Крассовского = \n\n %.9f\n\n",B);
        printf("\n\nЗНАЧЕНИЕ ПАРАМЕТРА l для эллипсоида Крассовского = \n\n %.9f\n\n",lmal);
        printf("\n\nЗНАЧЕНИЕ ПАРАМЕТРА sinB для эллипсоида Крассовского = \n\n %.9f\n\n",sin(B));
        printf("\n\nЗНАЧЕНИЕ ПАРАМЕТРА cosB для эллипсоида Крассовского = \n\n %.9f\n\n",cos(B));
        printf("\n\nЗНАЧЕНИЕ ПАРАМЕТРА cos2B для эллипсоида Крассовского = \n\n %.9f\n\n",cos(B)*cos(B));
        printf("\n\nЗНАЧЕНИЕ ПАРАМЕТРА sinBcosB для эллипсоида Крассовского = \n\n %.9f\n\n",sin(B)*cos(B));
        printf("\n\nЗНАЧЕНИЕ ПАРАМЕТРА A0*B для эллипсоида Крассовского = \n\n %.9f\n\n",AB0K*B);
        printf("\n\nЗНАЧЕНИЕ ПАРАМЕТРА A2/2 для эллипсоида Крассовского = \n\n %.9f\n\n",AB2K/2);
        printf("\n\nЗНАЧЕНИЕ ПАРАМЕТРА A4/4 для эллипсоида Крассовского = \n\n %.9f\n\n",AB4K/4);
        printf("\n\nЗНАЧЕНИЕ ПАРАМЕТРА A6/6 для эллипсоида Крассовского = \n\n %.9f\n\n",AB6K/6);
        printf("\n\nЗНАЧЕНИЕ ПАРАМЕТРА X для эллипсоида Крассовского = \n\n %.9f\n\n",XBk);
        printf("\n\nЗНАЧЕНИЕ ПАРАМЕТРА tan2B для эллипсоида Крассовского = \n\n %.9f\n\n",tan2B);
        printf("\n\nЗНАЧЕНИЕ ПАРАМЕТРА n2 для эллипсоида Крассовского = \n\n %.9f\n\n",nk2);
        printf("\n\nЗНАЧЕНИЕ ПАРАМЕТРА N для эллипсоида Крассовского = \n\n %.9f\n\n",NK);
        printf("\n\nЗНАЧЕНИЕ ПАРАМЕТРА l2 для эллипсоида Крассовского = \n\n %.9f\n\n",l2);
        printf("\n\nЗНАЧЕНИЕ ПАРАМЕТРА NsinB для эллипсоида Крассовского = \n\n %.9f\n\n",NK*sin(B));
        printf("\n\nЗНАЧЕНИЕ ПАРАМЕТРА a2 для эллипсоида Крассовского = \n\n %.9f\n\n",a2k);
        printf("\n\nЗНАЧЕНИЕ ПАРАМЕТРА a4 для эллипсоида Крассовского = \n\n %.9f\n\n",a4k);
        printf("\n\nЗНАЧЕНИЕ ПАРАМЕТРА a6 для эллипсоида Крассовского = \n\n %.9f\n\n",a6k);
        printf("----------\n\nЗНАЧЕНИЕ ПАРАМЕТРА координаты х для эллипсоида Крассовского = \n\n %.9f\n\n",xk);
        printf("----------\n\nЗНАЧЕНИЕ ПАРАМЕТРА b1k для эллипсоида Крассовского = \n\n %.9f\n\n",b1k);
        printf("\n\nЗНАЧЕНИЕ ПАРАМЕТРА b3k для эллипсоида Крассовского = \n\n %.9f\n\n",b3k);
        printf("\n\nЗНАЧЕНИЕ ПАРАМЕТРА b5k для эллипсоида Крассовского = \n\n %.9f\n\n",b5k);
        printf("----------\n\nЗНАЧЕНИЕ ПАРАМЕТРА координаты у для эллипсоида Крассовского =  \n\n%.9f\n\n",yk);
        printf("----------\n\nЗНАЧЕНИЕ ПАРАМЕТРА A0W*B для эллипсоида WGS-84 = \n\n %.9f\n\n",AB0W*B);
        printf("ЗНАЧЕНИЕ ПАРАМЕТРА A2/2 для эллипсоида WGS-84 = \n\n %.9f\n\n",AB2W/2);
        printf("ЗНАЧЕНИЕ ПАРАМЕТРА A4/4 для эллипсоида WGS-84 = \n\n %.9f\n\n",AB4W/4);
        printf("ЗНАЧЕНИЕ ПАРАМЕТРА A6/6 для эллипсоида WGS-84 = \n\n %.9f\n\n",AB6W/6);
        printf("ЗНАЧЕНИЕ ПАРАМЕТРА X для эллипсоида WGS-84 = \n\n %.9f\n\n",XBw);
        printf("ЗНАЧЕНИЕ ПАРАМЕТРА tan2B для эллипсоида WGS-84 = \n\n %.9f\n\n",tan2B);
        printf("ЗНАЧЕНИЕ ПАРАМЕТРА n2 для эллипсоида WGS-84 = \n\n %.9f\n\n",nw2);
        printf("ЗНАЧЕНИЕ ПАРАМЕТРА N для эллипсоида WGS-84 = \n\n %.9f\n\n",NW);
        printf("ЗНАЧЕНИЕ ПАРАМЕТРА l2 для эллипсоида WGS-84 = \n\n %.9f\n\n",l2);
        printf("ЗНАЧЕНИЕ ПАРАМЕТРА NsinB для эллипсоида WGS-84 = \n\n %.9f\n\n",NW*sin(B));
        printf("ЗНАЧЕНИЕ ПАРАМЕТРА a2 для эллипсоида WGS-84 = \n\n %.9f\n\n",a2w);
        printf("ЗНАЧЕНИЕ ПАРАМЕТРА a4 для эллипсоида WGS-84 = \n\n %.9f\n\n",a4w);
        printf("ЗНАЧЕНИЕ ПАРАМЕТРА a6 для эллипсоида WGS-84 = \n\n %.9f\n\n",a6w);
        printf("----------\n\nЗНАЧЕНИЕ ПАРАМЕТРА координаты х для эллипсоида WGS-84= \n\n %.9f\n\n",xw);
        printf("----------\n\nЗНАЧЕНИЕ ПАРАМЕТРА b1для эллипсоида WGS-84 = \n\n %.9f\n\n",b1w);
        printf("ЗНАЧЕНИЕ ПАРАМЕТРА b3 для эллипсоида WGS-84 = \n\n %.9f\n\n",b3w);
        printf("ЗНАЧЕНИЕ ПАРАМЕТРА b5 для эллипсоида WGS-84 = \n\n %.9f\n\n",b5w);
        printf("----------\n\nЗНАЧЕНИЕ ПАРАМЕТРА координаты у для эллипсоида WGS-84 = \n\n %.9f\n\n",yw);
    };
    void PloskKoor(){
        printf("ЗАДАНИЕ НОМЕР 2. Вычисление геодезических координат B, L по плоским координатам х,у. Все значения были получены для двух эллипсоидов - эллипсоида Крассовского и эллипсоида WGS-84.\n\n");
        float x=5728164.129;
        float y=-205079.973;
        float L0=27*PI/180;
        float a0k=6367558.497;
        float a0w=6367449.146;
        float b2k=0.002518465;
        float b2w=0.002517827;
        float b4k=0.000003700;
        float b4w=0.000003701;
        float b6k=0.000000007;
        float b6w=0.000000007;
        float bettak=x/a0k;
        float bettaw=x/a0w;
        float BKx=bettak+b2k*sin(2*bettak)+b4k*sin(4*bettak)+b6k*sin(6*bettak);
        float BWx=bettaw+b2w*sin(2*bettaw)+b4w*sin(4*bettaw)+b6w*sin(6*bettaw);
        float NKx=ak/sqrt(1-eksk*sin(BKx)*sin(BKx));
        float NWx=aw/sqrt(1-eksw*sin(BWx)*sin(BWx));
        float VKx=ck/NKx;
        float VWx=cw/NWx;
        float V2Kx=VKx*VKx;
        float V2Wx=VWx*VWx;
        float N2Kx=NKx*NKx;
        float N2Wx=NWx*NWx;
        float N4Kx=N2Kx*N2Kx;
        float N4Wx=N2Wx*N2Wx;
        float tan2BKx=tan(BKx)*tan(BKx);
        float tan4BKx=tan2BKx*tan2BKx;
        float tan2BWx=tan(BWx)*tan(BWx);
        float tan4BWx=tan2BWx*tan2BWx;
        float nk=eksk*cos(BKx);
        float nw=eksw*cos(BWx);
        float n2k=nk*nk;
        float n4k=n2k*n2k;
        float n2w=nw*nw;
        float n4w=n2w*n2w;
        float A2k=(-(V2Kx*tan(BKx)/(2*N2Kx)));
        float A4k=-((A2k/(12*N2Kx))*(5+3*tan2BKx+n2k-9*n2k*tan2BKx-4*n4k));
        float A6k=(A2k/(360*N4Kx))*(61+90*tan2BKx+45*tan4BKx+46*n2k-252*n2k*tan2BKx-90*n2k*tan4BKx);
        float A2w=-(V2Wx*tan(BWx)/(2*N2Wx));
        float A4w=-((A2w/(12*N2Wx))*(5+3*tan2BWx+n2w-9*n2w*tan2BWx-4*n4w));
        float A6w=(A2w/(360*N4Wx))*(61+90*tan2BWx+45*tan4BWx+46*n2w-252*n2w*tan2BWx-90*n2w*tan4BWx);
        float P1k=(1/NKx*cos(BKx));
        float P3k=-((P1k/(6*N2Kx))*(1+2*tan2BKx+n2k));
        float P5k=(P1k/(120*N4Kx))*(5+28*tan2BKx+24*tan4BKx+6*n2k+8*n2k*tan2BKx);
        float P1w=(1/NWx*cos(BWx));
        float P3w=-((P1w/(6*N2Wx))*(1+2*tan2BWx+n2w));
        float P5w=(P1w/(120*N4Wx))*(5+28*tan2BWx+24*tan4BWx+6*n2w+8*n2w*tan2BWx);
        float Bitok=BKx+A2k*y*y+A4k*y*y*y*y+A6k*y*y*y*y*y*y;
        float litok=P1k*y+P3k*y*y*y+P5k*y*y*y*y*y;
        float Bitow=BWx+A2w*y*y+A4w*y*y*y*y+A6w*y*y*y*y*y*y;
        float litow=P1w*y+P3w*y*y*y+P5w*y*y*y*y*y;
        float Lk=L0+litok;
        float Lw=L0+litow;
        printf("ЗНАЧЕНИЕ ПАРАМЕТРА betta для эллипсоида Крассовского %.9f\n\n",bettak);
        printf("ЗНАЧЕНИЕ ПАРАМЕТРА b2sin2betta для эллипсоида Крассовского %.9f\n\n",b2k*sin(2*bettak));
        printf("ЗНАЧЕНИЕ ПАРАМЕТРА b4sin4betta для эллипсоида Крассовского %.9f\n\n",b4k*sin(4*bettak));
        printf("ЗНАЧЕНИЕ ПАРАМЕТРА b6sin6betta для эллипсоида Крассовского %.9f\n\n",b6k*sin(6*bettak));
        printf("ЗНАЧЕНИЕ ПАРАМЕТРА Bx для эллипсоида Крассовского %.9f\n\n",BKx);
        printf("ЗНАЧЕНИЕ ПАРАМЕТРА Nx для эллипсоида Крассовского %.9f\n\n",NKx);
        printf("ЗНАЧЕНИЕ ПАРАМЕТРА c эллипсоида Крассовского %.9f\n\n",ck);
        printf("ЗНАЧЕНИЕ ПАРАМЕТРА первого эксцентриситета эллипсоида Крассовского %.9f\n\n",eksk);
        printf("ЗНАЧЕНИЕ ПАРАМЕТРА V2x для эллипсоида Крассовского %.9f\n\n",V2Kx);
        printf("ЗНАЧЕНИЕ ПАРАМЕТРА n2 для эллипсоида Крассовского %.9f\n\n",n2k);
        printf("ЗНАЧЕНИЕ ПАРАМЕТРА A2y2 для эллипсоида Крассовского %.9f\n\n",(A2k*y*y)*PI/180);
        printf("ЗНАЧЕНИЕ ПАРАМЕТРА A4y4 для эллипсоида Крассовского %.9f\n\n",A4k*y*y*y*y);
        printf("ЗНАЧЕНИЕ ПАРАМЕТРА A6y6 для эллипсоида Крассовского %.9f\n\n",A6k*y*y*y*y*y*y);
        printf("ЗНАЧЕНИЕ ПАРАМЕТРА B в радианах для эллипсоида Крассовского  %.9f\n\n",Bitok);
        printf("----------\n\nЗНАЧЕНИЕ ПАРАМЕТРА B в десятичных градусах для эллипсоида Крассовского %.9f\n\n",Bitok*180/PI);
        printf("----------\n\nЗНАЧЕНИЕ ПАРАМЕТРА P1y для эллипсоида Крассовского %.9f\n\n",P1k*y);
        printf("ЗНАЧЕНИЕ ПАРАМЕТРА P3y3 для эллипсоида Крассовского %.9f\n\n",P3k*y*y*y);
        printf("ЗНАЧЕНИЕ ПАРАМЕТРА P5y5 для эллипсоида Крассовского %.9f\n\n",P5k*y*y*y*y*y);
        printf("ЗНАЧЕНИЕ ПАРАМЕТРА l в радианах для эллипсоида Крассовского %.9f\n\n",litok);
        printf("ЗНАЧЕНИЕ ПАРАМЕТРА l в градусах для эллипсоида Крассовского  %.9f\n\n",litok*180/PI);
        printf("ЗНАЧЕНИЕ ПАРАМЕТРА L0 %.9f\n\n",L0);
        printf("----------\n\nЗНАЧЕНИЕ ПАРАМЕТРА L в десятичных градусах для эллипсоида Крассовского %.9f\n\n",(L0*180/PI)+(litok*180/PI));
        printf("----------\n\nЗНАЧЕНИЕ ПАРАМЕТРА Bx для эллипсоида WGS-84 %.9f\n\n",BWx);
        printf("ЗНАЧЕНИЕ ПАРАМЕТРА Nx для эллипсоида WGS-84 %.9f\n\n",NWx);
        printf("ЗНАЧЕНИЕ ПАРАМЕТРА c для эллипсоида WGS-84 %.9f\n\n",cw);
        printf("ЗНАЧЕНИЕ ПАРАМЕТРА первого эксцентриситета эллипсоида WGS-84 %.9f\n\n",eksw);
        printf("ЗНАЧЕНИЕ ПАРАМЕТРА V2x для эллипсоида WGS-84 %.9f\n\n",V2Wx);
        printf("ЗНАЧЕНИЕ ПАРАМЕТРА n2 для эллипсоида WGS-84 %.9f\n\n",n2w);
        printf("ЗНАЧЕНИЕ ПАРАМЕТРА A2y2 для эллипсоида WGS-84 %.9f\n\n",(A2w*y*y)*PI/180);
        printf("ЗНАЧЕНИЕ ПАРАМЕТРА A4y4 для эллипсоида WGS-84%.9f\n\n",A4w*y*y*y*y);
        printf("ЗНАЧЕНИЕ ПАРАМЕТРА A6y6 для эллипсоида WGS-84 %.9f\n\n",A6w*y*y*y*y*y*y);
        printf("ЗНАЧЕНИЕ ПАРАМЕТРА B в радианах для эллипсоида WGS-84 %.9f\n\n",Bitow);
        printf("----------\n\nЗНАЧЕНИЕ ПАРАМЕТРА B в десятичных градусах для эллипсоида WGS-84 %.9f\n\n",Bitow*180/PI);
        printf("----------\n\nЗНАЧЕНИЕ ПАРАМЕТРА P1y для эллипсоида WGS-84 %.9f\n\n",P1w*y);
        printf("ЗНАЧЕНИЕ ПАРАМЕТРА P3y3 для эллипсоида WGS-84%.9f\n\n",P3w*y*y*y);
        printf("ЗНАЧЕНИЕ ПАРАМЕТРА P5y5 для эллипсоида WGS-84%.9f\n\n",P5w*y*y*y*y*y);
        printf("ЗНАЧЕНИЕ ПАРАМЕТРА l в радианах для эллипсоида WGS-84 %.9f\n\n",litow);
        printf("ЗНАЧЕНИЕ ПАРАМЕТРА l в градусах для эллипсоида WGS-84 %.9f\n\n",litow*180/PI);
        printf("ЗНАЧЕНИЕ ПАРАМЕТРА L0 %.9f\n\n",L0);
        printf("----------\n\nЗНАЧЕНИЕ ПАРАМЕТРА L в десятичных градусах для эллипсоида WGS-84 %.9f\n\n",(L0*180/PI)+(litow*180/PI));
    };
};
int main() {
    using namespace std;
    Ellipsoid KrassovskogoIWGS;
    KrassovskogoIWGS.KrivolinKoor();
    cout<<"-----------------------------------\n\n";
    KrassovskogoIWGS.PloskKoor();
    return 0;
}